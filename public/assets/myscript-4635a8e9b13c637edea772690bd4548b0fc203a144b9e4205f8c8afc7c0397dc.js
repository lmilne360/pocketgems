function selectPage(){var e=window.location.href,o=e;$("li a").each(function(){var e=this.href;o==e&&$(this).closest("a").addClass("active")})}function addFave(e,o,t){var n=e.target.parentElement;$(n).addClass("fave"),addToStorage({name:o,url:t})}function addToStorage(e){function o(o){return o.name===e.name}var t=getGems();t.some(o)?console.log(e.name+" is already one of your favorites"):(t.push(e),console.log("added "+e.name+" to collection")),setGems(t)}function setGems(e){localStorage.setItem("gems",JSON.stringify(e))}function getGems(){return JSON.parse(localStorage.getItem("gems")||"[]")}function loadFavorites(){getGems().forEach(function(e){$(".favorite-gems ul").append('<li class="col-md-4">\n        <span onclick=\'removeFave(event,"'+e.name+"\")'>&#x2605</span>\n      <a href="+e.url+' target="_blank" >'+e.name+"</a> </li>")}),console.log("Favorite gems loaded")}function checkError(){$(".error").text()&&$(".form-control, .input-group-btn > .btn.btn-default").css({"border-color":"#f55",color:"#f55"})}function removeFave(e,o){var t=getGems(),n=t.filter(function(e){return e.name!=o});e.target.parentElement.remove(),setGems(n),console.log(n)}$(document).on("turbolinks:load",function(){selectPage(),"/favorites"==window.location.pathname&&loadFavorites(),checkError()});